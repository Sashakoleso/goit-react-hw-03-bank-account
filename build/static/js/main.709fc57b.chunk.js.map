{"version":3,"sources":["components/Balance/Balance.module.css","components/TransactionHistory/TransactionHistory.module.css","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","components/App.js","index.js","components/Controls/Controls.module.css"],"names":["module","exports","Controls","state","amount","handleInputChange","e","target","name","value","setState","Deposit","props","Number","Withdraw","this","className","abc","controls","input","onChange","type","button","onClick","Component","Balance","balance","income","expenses","TransactionHistory","items","historyContainer","map","element","key","id","date","Dashboard","transactions","money","toast","warn","position","POSITION","TOP_CENTER","newDeposit","uuid","Date","toLocaleString","prevState","error","newWithdraw","saved","localStorage","getItem","localBalance","JSON","parse","tasks","setItem","stringify","reduce","acc","item","costs","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.709fc57b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__GwYt-\",\"income\":\"Balance_income__p6E5q\",\"expenses\":\"Balance_expenses__1EHLJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"historyContainer\":\"TransactionHistory_historyContainer__3P-xl\"};","import React, { Component } from 'react';\nimport Proppes from 'prop-types';\nimport abc from './Controls.module.css';\n\nexport default class Controls extends Component {\n  static propTypes = {\n    Deposit: Proppes.func.isRequired,\n    Withdraw: Proppes.func.isRequired,\n  }.isRequired;\n\n  state = {\n    amount: '',\n  };\n\n  handleInputChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  Deposit = () => {\n    const { Deposit } = this.props;\n    Deposit(Number(this.state.amount));\n    this.setState({ amount: '' });\n  };\n\n  Withdraw = () => {\n    const { Withdraw } = this.props;\n    Withdraw(Number(this.state.amount));\n    this.setState({ amount: '' });\n  };\n\n  render() {\n    const { amount } = this.state;\n    return (\n      <section className={abc.controls}>\n        <input\n          className={abc.input}\n          onChange={this.handleInputChange}\n          type=\"number\"\n          name=\"amount\"\n          value={amount}\n        />\n        <button className={abc.button} onClick={this.Deposit} type=\"button\">\n          Deposit\n        </button>\n        <button className={abc.button} onClick={this.Withdraw} type=\"button\">\n          Withdraw\n        </button>\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport Proppes from 'prop-types';\nimport abc from './Balance.module.css';\n\nconst Balance = ({ balance, income, expenses }) => (\n  <section className={abc.balance}>\n    <span>\n      <span className={abc.income}>&#8593;</span>\n      {income}$\n    </span>\n    <span>\n      <span className={abc.expenses}>&#8595;</span>\n      {expenses}$\n    </span>\n    <span>Balance: {balance}$</span>\n  </section>\n);\n\nBalance.propTypes = {\n  balance: Proppes.number.isRequired,\n  income: Proppes.number.isRequired,\n  expenses: Proppes.number.isRequired,\n}.isRequired;\n\nexport default Balance;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport Proppes from 'prop-types';\nimport abc from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ items }) => (\n  <table className={abc.historyContainer}>\n    <thead>\n      <tr>\n        <th>Transaction</th>\n        <th>Amount</th>\n        <th>Date</th>\n      </tr>\n    </thead>\n    <tbody>\n      {items.map(element => (\n        <tr key={element.id}>\n          <td>{element.type}</td>\n          <td>{element.amount}</td>\n          <td>{element.date}</td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n\nexport default TransactionHistory;\n\nTransactionHistory.propTypes = {\n  items: Proppes.arrayOf(\n    Proppes.shape({\n      id: Proppes.string.isRequired,\n      type: Proppes.string.isRequired,\n      amount: Proppes.number.isRequired,\n      date: Proppes.string.isRequired,\n    }),\n  ).isRequired,\n};\n","/* eslint-disable consistent-return */\nimport React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport uuid from 'uuid/v1';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\n\nexport default class Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n  };\n\n  componentDidMount() {\n    const saved = localStorage.getItem('transactions');\n    const localBalance = localStorage.getItem('balance');\n    if (saved) {\n      const transactions = JSON.parse(saved);\n      this.setState({ transactions });\n    }\n    if (localBalance) {\n      const balance = JSON.parse(localBalance);\n      this.setState({ balance });\n    }\n  }\n\n  componentDidUpdate(prevState) {\n    const { transactions, balance } = this.state;\n    if (prevState.tasks !== transactions) {\n      localStorage.setItem('transactions', JSON.stringify(transactions));\n      localStorage.setItem('balance', JSON.stringify(balance));\n    }\n  }\n\n  Deposit = money => {\n    if (money === 0) {\n      return toast.warn('Введите сумму для проведения операции!', {\n        position: toast.POSITION.TOP_CENTER,\n      });\n    }\n    const newDeposit = {\n      id: uuid(),\n      type: 'deposit',\n      amount: money,\n      date: new Date().toLocaleString(),\n    };\n    this.setState(prevState => ({\n      transactions: [newDeposit, ...prevState.transactions],\n      balance: prevState.balance + money,\n    }));\n  };\n\n  Withdraw = money => {\n    if (money === 0) {\n      return toast.warn('Введите сумму для проведения операции!', {\n        position: toast.POSITION.TOP_CENTER,\n      });\n    }\n    if (money > this.state.balance) {\n      return toast.error(\n        'На счету недостаточно средств для проведения операции!',\n        {\n          position: toast.POSITION.TOP_CENTER,\n        },\n      );\n    }\n    const newWithdraw = {\n      id: uuid(),\n      type: 'withdraw',\n      amount: money,\n      date: new Date().toLocaleString(),\n    };\n    this.setState(prevState => ({\n      transactions: [newWithdraw, ...prevState.transactions],\n      balance: prevState.balance - money,\n    }));\n  };\n\n  render() {\n    const { transactions, balance } = this.state;\n\n    const income = transactions.reduce(\n      (acc, item) => (item.type === 'deposit' ? acc + item.amount : acc),\n      0,\n    );\n\n    const costs = transactions.reduce(\n      (acc, item) => (item.type === 'withdraw' ? acc + item.amount : acc),\n      0,\n    );\n\n    return (\n      <>\n        <Controls Deposit={this.Deposit} Withdraw={this.Withdraw} />\n        <Balance balance={balance} income={income} expenses={costs} />\n        <TransactionHistory items={transactions} />\n        <ToastContainer />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport Dashboard from './Dashboard/Dashboard';\n\nconst App = () => (\n  <>\n    <Dashboard />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3vFh6\",\"input\":\"Controls_input__1sbQO\",\"button\":\"Controls_button__ajAk4\"};"],"sourceRoot":""}